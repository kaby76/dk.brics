<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_02) on Mon Nov 30 13:47:51 CET 2009 -->
<TITLE>
dk.brics.string.intermediate.operations (dk.brics.string)
</TITLE>

<META NAME="date" CONTENT="2009-11-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="dk.brics.string.intermediate.operations (dk.brics.string)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../dk/brics/string/intermediate/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../dk/brics/string/java/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?dk/brics/string/intermediate/operations/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package dk.brics.string.intermediate.operations
</H2>
Operations on intermediate representation, in particular conversion to flow graphs.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/FlowAnalysis.html" title="interface in dk.brics.string.intermediate.operations">FlowAnalysis</A></B></TD>
<TD>A simple flow analysis framework.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/AliasAnalysis.html" title="class in dk.brics.string.intermediate.operations">AliasAnalysis</A></B></TD>
<TD>Alias analysis performed on a set of methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/AliasAssertionAnalysis.html" title="class in dk.brics.string.intermediate.operations">AliasAssertionAnalysis</A></B></TD>
<TD>Analyses <A HREF="../../../../../dk/brics/string/intermediate/AssertAliases.html" title="class in dk.brics.string.intermediate"><CODE>AssertAliases</CODE></A> statements to determine which are valid assertions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/AliasInfo.html" title="class in dk.brics.string.intermediate.operations">AliasInfo</A></B></TD>
<TD>Alias and corruption information for a specific program point.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/AliasTable.html" title="class in dk.brics.string.intermediate.operations">AliasTable</A></B></TD>
<TD>Represents the aliasing status between a set of variables.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/DefinesVisitor.html" title="class in dk.brics.string.intermediate.operations">DefinesVisitor</A></B></TD>
<TD>A statement visitor for querying the set of local variables and fields
 written to by a statement, including aliases if provided.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/FieldUsageAnalysis.html" title="class in dk.brics.string.intermediate.operations">FieldUsageAnalysis</A></B></TD>
<TD>Finds the set of fields that each method reads and/or modifies.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/FlowGraphEdgeCreator.html" title="class in dk.brics.string.intermediate.operations">FlowGraphEdgeCreator</A></B></TD>
<TD>Creates all flow graph edges for a flow graph created
 by a <A HREF="../../../../../dk/brics/string/intermediate/operations/FlowGraphNodeCreator.html" title="class in dk.brics.string.intermediate.operations"><CODE>FlowGraphNodeCreator</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/FlowGraphNodeCreator.html" title="class in dk.brics.string.intermediate.operations">FlowGraphNodeCreator</A></B></TD>
<TD>Translates a set of methods into a flow graph with no edges.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/HandleFieldAssignment.html" title="class in dk.brics.string.intermediate.operations">HandleFieldAssignment</A></B></TD>
<TD>To get a sound analysis for fields containing mutable types, 
 we must use a flow insensitive analysis or use the hack 
 implemented by this class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/Intermediate2Dot.html" title="class in dk.brics.string.intermediate.operations">Intermediate2Dot</A></B></TD>
<TD>Constructs Graphviz dot representation of intermediate representation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/Intermediate2FlowGraph.html" title="class in dk.brics.string.intermediate.operations">Intermediate2FlowGraph</A></B></TD>
<TD>Converter from intermediate representation to flow graphs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/LivenessAnalysis.html" title="class in dk.brics.string.intermediate.operations">LivenessAnalysis</A></B></TD>
<TD>Intra-procedural liveness analysis performed on a set of methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/OperationAssertionAnalysis.html" title="class in dk.brics.string.intermediate.operations">OperationAssertionAnalysis</A></B></TD>
<TD>Determines which assertions are "safe".</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/ReachingDefinitions.html" title="class in dk.brics.string.intermediate.operations">ReachingDefinitions</A></B></TD>
<TD>Intra-procedural reaching definitions analysis performed on a set of methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/ToStringVisitor.html" title="class in dk.brics.string.intermediate.operations">ToStringVisitor</A></B></TD>
<TD>Visitor for producing string representations of statements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/UsesVisitor.html" title="class in dk.brics.string.intermediate.operations">UsesVisitor</A></B></TD>
<TD>A statement visitor for querying the set of variables read by a statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/WorkList.html" title="class in dk.brics.string.intermediate.operations">WorkList</A></B></TD>
<TD>A worklist algorithm for performing flow analyses on
 a set of methods.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Enum Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../dk/brics/string/intermediate/operations/AliasStatus.html" title="enum in dk.brics.string.intermediate.operations">AliasStatus</A></B></TD>
<TD>Describes the known aliasing status between two variables.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package dk.brics.string.intermediate.operations Description
</H2>

<P>
Operations on intermediate representation, in particular conversion to flow graphs.
<p>
    The main obstacle to producing a flow graph from the IR is the presence of
    <b>mutable</b> string values in the form of <code>StringBuffer</code>s, <code>StringBuilder</code>s,
    and <code>String</code> arrays. We need
    to calculate the def-use relationships between the individual string operations in
    a way that takes the possible aliasing between variables of type <code>StringBuffer</code>,
    <code>StringBuilder</code>,
    or <code>String</code> array into account. Furthermore, we must handle escapes of such values
    properly. An escaped value is corrupted and can from that point
    onward contain any value, no matter which operations are performed on it.

<p>
    The first step in the preparation procedure is to perform an <b>alias analysis</b> on
    these pointer variables to determine which variables may point to the same object.
    This analysis also determines which variables might have escaped and should be corrupt.
    The alias analysis we employ is a variable-pair-based may/must alias analysis
    (as opposed to points-to based approaches).
    The analysis is semi-interprocedural. From the caller to the callee
    flows information about the aliasing relationships between the arguments, and from the callee
    to the caller flows the aliasing information between the arguments and the return
    value and whether each of the arguments and the return value escape during the
    method. Methods are analyzed context-insensitively.
    To boost the efficiency of the analysis and the subsequent transformations, a
    <b>liveness analysis</b> is performed prior to the alias analysis and only live variables are
    treated in the analysis.

<p>
    The second preparation step is a <b>reaching definitions analysis</b> that uses the alias information.
    Every <code>StringBuffer</code>/<code>StringBuilder</code> operation performed on
    some variable <i>x</i> is characterized as a
    strong definition of every variable that is definitely aliased with <i>x</i> at that point and
    a weak definition of all variables possibly aliased with <i>x</i>. An array store operation
    is a weak definition of the array variable. Based on these characterizations, a
    reaching definitions analysis is performed where both strong and weak definitions
    are regarded as definitions but only a strong definition can kill another definition.
    The result is, for each string operation and every variable that could potentially
    point to the affected string, which other string operations could possibly have been
    the immediately preceding one performed on the string pointed to by that variable.

<p>
    The information obtained from the reaching definitions analysis is precisely what is needed to
    construct the flow graph. One node is created for every strong or weak definition
    (that is, one node per possibly affected live variable in the presence of aliasing).
    These nodes are connected according to the calculated def-use relationships. If a variable
    was marked corrupt by the alias analysis, its node will represent the language of all strings,
    regardless of what operation was performed on it. 
    The result is a flow graph that conservatively models the original Java program.

<p>
    This code may be used under the terms of the
    <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GNU General Public
        License</a>.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Anders M&oslash;ller &lt;<a href="mailto:amoeller@cs.au.dk">amoeller@cs.au.dk</a>&gt;, Aske Simon Christensen &lt;<a href="mailto:aske@cs.au.dk">aske@cs.au.dk</a>&gt;, Asger Feldthaus &lt;<a href="mailto:asf@cs.au.dk">asf@cs.au.dk</a>&gt;</DD>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../dk/brics/string/intermediate/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../dk/brics/string/java/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?dk/brics/string/intermediate/operations/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

                <i> Copyright &#169; 2003-2009 Anders M&oslash;ller, Aske Simon Christensen, Asger Feldthaus. </i>
</BODY>
</HTML>
